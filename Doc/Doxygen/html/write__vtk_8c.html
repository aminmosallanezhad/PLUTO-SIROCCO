<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PLUTO: /Users/mignone/PLUTO/Src/write_vtk.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">PLUTO<span id="projectnumber">&#160;4.4-patch3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_413f4e031a85da0d68269c6fd2f76e1c.html">Src</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">write_vtk.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Write data in VTK format.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="pluto_8h_source.html">pluto.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a68b4fcb3c62d03d36babd739d865c488" id="r_a68b4fcb3c62d03d36babd739d865c488"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a68b4fcb3c62d03d36babd739d865c488">VTK_RECTILINEAR_GRID</a>&#160;&#160;&#160;14</td></tr>
<tr class="separator:a68b4fcb3c62d03d36babd739d865c488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1bc6c0e0c2eb35147a7efcc483a9402" id="r_aa1bc6c0e0c2eb35147a7efcc483a9402"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa1bc6c0e0c2eb35147a7efcc483a9402">VTK_STRUCTURED_GRID</a>&#160;&#160;&#160;35</td></tr>
<tr class="separator:aa1bc6c0e0c2eb35147a7efcc483a9402"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb32a4b3ee17de9a83f1c869207a22fe" id="r_adb32a4b3ee17de9a83f1c869207a22fe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#adb32a4b3ee17de9a83f1c869207a22fe">VTK_FORMAT</a>&#160;&#160;&#160;<a class="el" href="#a68b4fcb3c62d03d36babd739d865c488">VTK_RECTILINEAR_GRID</a></td></tr>
<tr class="separator:adb32a4b3ee17de9a83f1c869207a22fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79915f31851c3d1c7594dcbc55777702" id="r_a79915f31851c3d1c7594dcbc55777702"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a79915f31851c3d1c7594dcbc55777702">VTK_TIME_INFO</a>&#160;&#160;&#160;<a class="el" href="pluto_8h.html#a996bde01ecac342918f0a2c4e7ce7bd5">NO</a>  /* VisIt to display data results            */</td></tr>
<tr class="separator:a79915f31851c3d1c7594dcbc55777702"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fcfa4ae1f215c0de08090878406e59e" id="r_a8fcfa4ae1f215c0de08090878406e59e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8fcfa4ae1f215c0de08090878406e59e">VTK_HEADER_WRITE_STRING</a>(header)&#160;&#160;&#160;         <a class="el" href="al__io_8c.html#ab12bffc6c67afb70601e1cb552e7174c">AL_Write_header</a> (header, strlen(header), MPI_CHAR, <a class="el" href="globals_8h.html#acf9b69e1799a02b8627ca2a94c140558">SZ_Float_Vect</a>);</td></tr>
<tr class="separator:a8fcfa4ae1f215c0de08090878406e59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36ce0650c1e9ec88acb841bf0bd47400" id="r_a36ce0650c1e9ec88acb841bf0bd47400"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a36ce0650c1e9ec88acb841bf0bd47400">VTK_HEADER_WRITE_FLTARR</a>(arr,  nelem)&#160;&#160;&#160;         <a class="el" href="al__io_8c.html#ab12bffc6c67afb70601e1cb552e7174c">AL_Write_header</a> (arr, nelem, MPI_FLOAT, <a class="el" href="globals_8h.html#acf9b69e1799a02b8627ca2a94c140558">SZ_Float_Vect</a>);</td></tr>
<tr class="separator:a36ce0650c1e9ec88acb841bf0bd47400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a51cb24e1ab49f0720bfdb8580c85b6d9" id="r_a51cb24e1ab49f0720bfdb8580c85b6d9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a51cb24e1ab49f0720bfdb8580c85b6d9">VTK_HEADER_WRITE_DBLARR</a>(arr,  nelem)&#160;&#160;&#160;         <a class="el" href="al__io_8c.html#ab12bffc6c67afb70601e1cb552e7174c">AL_Write_header</a> (arr, nelem, MPI_DOUBLE, <a class="el" href="globals_8h.html#acf9b69e1799a02b8627ca2a94c140558">SZ_Float_Vect</a>);</td></tr>
<tr class="separator:a51cb24e1ab49f0720bfdb8580c85b6d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a318ad93a5e2d73af7211ca44cd20d2a1" id="r_a318ad93a5e2d73af7211ca44cd20d2a1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a318ad93a5e2d73af7211ca44cd20d2a1">WriteVTK_Header</a> (FILE *fvtk, <a class="el" href="struct_grid.html">Grid</a> *grid)</td></tr>
<tr class="separator:a318ad93a5e2d73af7211ca44cd20d2a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ed12df0377715d751ba77459b3dc410" id="r_a8ed12df0377715d751ba77459b3dc410"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8ed12df0377715d751ba77459b3dc410">WriteVTK_Vector</a> (FILE *fvtk, <a class="el" href="pluto_8h.html#a8687756c20ea6b5b5987615b0ce41bd2">Data_Arr</a> V, double unit, char *var_name, <a class="el" href="struct_grid.html">Grid</a> *grid)</td></tr>
<tr class="separator:a8ed12df0377715d751ba77459b3dc410"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a269e88203950ce9267c5efc024cdb713" id="r_a269e88203950ce9267c5efc024cdb713"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a269e88203950ce9267c5efc024cdb713">WriteVTK_Scalar</a> (FILE *fvtk, double ***V, double unit, char *var_name, <a class="el" href="struct_grid.html">Grid</a> *grid)</td></tr>
<tr class="separator:a269e88203950ce9267c5efc024cdb713"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><br  />
 </p>
<p>Collection of basic functions to write legacy VTK binary files. Files can be written in serial or parallel mode and consists of the basic five parts :</p>
<ol type="1">
<li>File version and identifier</li>
<li>Header, consisting of a string</li>
<li>File format</li>
<li>Dataset structure: describes the geometry and topology of the dataset</li>
<li>Dataset attributes. This section is used to write the actual binary data as a vector or scalar data</li>
</ol>
<p>The mesh topology and the variable datasets are written using single precision (4 bytes) binary format. VTK file are written following big endian order. Therefore, we swap endianity only if local architecture has little endian ordering.</p>
<p>The <a class="el" href="#a318ad93a5e2d73af7211ca44cd20d2a1">WriteVTK_Header()</a> function provides the basic functionality for steps 1, 2, 3 and 4. Only processor 0 does the actual writing. For cartesian/cylindrical geometries the default grid topology is <em>rectilinear grid</em> (<code>VTK_RECTILINEAR_GRIDS</code>) whereas for polar/spherical we employ <em>structured grid</em> (<code>VTK_STRUCTURED_GRID</code>) to provide a convenient mapping to a cartesian mesh.</p>
<p><b> Note for 2D datasets</b>: in order to produce a strictly 2D dataset we always set the third coordinate (x3) to zero. For this reason, in 2D spherical cordinates we swap the role of the <br  />
 "y" and "z" coordinates.</p>
<p>The <a class="el" href="#a8ed12df0377715d751ba77459b3dc410">WriteVTK_Vector()</a> is fully parallel and is used to write data with the vector attribute (by default these include velocity and magnetic fields).</p>
<p>The <a class="el" href="#a269e88203950ce9267c5efc024cdb713">WriteVTK_Scalar()</a> is fully parallel and is used to write data with the scalar attribute (by default these include density, pressure, tracer and user-defined variables).</p>
<p><b>Reference</b> </p>
<p><a href="http://www.vtk.org/VTK/img/file-formats.pdf">http://www.vtk.org/VTK/img/file-formats.pdf</a></p>
<dl class="section author"><dt>Author</dt><dd>A. Mignone (<a href="#" onclick="location.href='mai'+'lto:'+'and'+'re'+'a.m'+'ig'+'non'+'e@'+'uni'+'to'+'.it'; return false;">andre<span class="obfuscator">.nosp@m.</span>a.mi<span class="obfuscator">.nosp@m.</span>gnone<span class="obfuscator">.nosp@m.</span>@uni<span class="obfuscator">.nosp@m.</span>to.it</a>) </dd></dl>
<dl class="section date"><dt>Date</dt><dd>Oct 16, 2022 </dd></dl>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="adb32a4b3ee17de9a83f1c869207a22fe" name="adb32a4b3ee17de9a83f1c869207a22fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb32a4b3ee17de9a83f1c869207a22fe">&#9670;&#160;</a></span>VTK_FORMAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VTK_FORMAT&#160;&#160;&#160;<a class="el" href="#a68b4fcb3c62d03d36babd739d865c488">VTK_RECTILINEAR_GRID</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a51cb24e1ab49f0720bfdb8580c85b6d9" name="a51cb24e1ab49f0720bfdb8580c85b6d9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a51cb24e1ab49f0720bfdb8580c85b6d9">&#9670;&#160;</a></span>VTK_HEADER_WRITE_DBLARR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VTK_HEADER_WRITE_DBLARR</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>arr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>nelem</em></span>&#160;)&#160;&#160;&#160;         <a class="el" href="al__io_8c.html#ab12bffc6c67afb70601e1cb552e7174c">AL_Write_header</a> (arr, nelem, MPI_DOUBLE, <a class="el" href="globals_8h.html#acf9b69e1799a02b8627ca2a94c140558">SZ_Float_Vect</a>);</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a36ce0650c1e9ec88acb841bf0bd47400" name="a36ce0650c1e9ec88acb841bf0bd47400"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36ce0650c1e9ec88acb841bf0bd47400">&#9670;&#160;</a></span>VTK_HEADER_WRITE_FLTARR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VTK_HEADER_WRITE_FLTARR</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>arr</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>nelem</em></span>&#160;)&#160;&#160;&#160;         <a class="el" href="al__io_8c.html#ab12bffc6c67afb70601e1cb552e7174c">AL_Write_header</a> (arr, nelem, MPI_FLOAT, <a class="el" href="globals_8h.html#acf9b69e1799a02b8627ca2a94c140558">SZ_Float_Vect</a>);</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a8fcfa4ae1f215c0de08090878406e59e" name="a8fcfa4ae1f215c0de08090878406e59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fcfa4ae1f215c0de08090878406e59e">&#9670;&#160;</a></span>VTK_HEADER_WRITE_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VTK_HEADER_WRITE_STRING</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>header</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;         <a class="el" href="al__io_8c.html#ab12bffc6c67afb70601e1cb552e7174c">AL_Write_header</a> (header, strlen(header), MPI_CHAR, <a class="el" href="globals_8h.html#acf9b69e1799a02b8627ca2a94c140558">SZ_Float_Vect</a>);</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a68b4fcb3c62d03d36babd739d865c488" name="a68b4fcb3c62d03d36babd739d865c488"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68b4fcb3c62d03d36babd739d865c488">&#9670;&#160;</a></span>VTK_RECTILINEAR_GRID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VTK_RECTILINEAR_GRID&#160;&#160;&#160;14</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa1bc6c0e0c2eb35147a7efcc483a9402" name="aa1bc6c0e0c2eb35147a7efcc483a9402"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa1bc6c0e0c2eb35147a7efcc483a9402">&#9670;&#160;</a></span>VTK_STRUCTURED_GRID</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VTK_STRUCTURED_GRID&#160;&#160;&#160;35</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a79915f31851c3d1c7594dcbc55777702" name="a79915f31851c3d1c7594dcbc55777702"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79915f31851c3d1c7594dcbc55777702">&#9670;&#160;</a></span>VTK_TIME_INFO</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VTK_TIME_INFO&#160;&#160;&#160;<a class="el" href="pluto_8h.html#a996bde01ecac342918f0a2c4e7ce7bd5">NO</a>  /* VisIt to display data results            */</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a318ad93a5e2d73af7211ca44cd20d2a1" name="a318ad93a5e2d73af7211ca44cd20d2a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a318ad93a5e2d73af7211ca44cd20d2a1">&#9670;&#160;</a></span>WriteVTK_Header()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteVTK_Header </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>fvtk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_grid.html">Grid</a> *</td>          <td class="paramname"><span class="paramname"><em>grid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write VTK header in parallel or serial mode. In parallel mode only processor 0 does the actual writing (see <a class="el" href="al__io_8c.html" title="Miscellaneous functions for IO operations.">al_io.c</a>/AL_Write_header).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fvtk</td><td>pointer to file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">grid</td><td>pointer to an array of <a class="el" href="struct_grid.html">Grid</a> structures</td></tr>
  </table>
  </dd>
</dl>
<dl class="todo"><dt><b><a class="el" href="todo.html#_todo000011">Todo</a></b></dt><dd>Write the grid using several processors. </dd></dl>

</div>
</div>
<a id="a269e88203950ce9267c5efc024cdb713" name="a269e88203950ce9267c5efc024cdb713"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a269e88203950ce9267c5efc024cdb713">&#9670;&#160;</a></span>WriteVTK_Scalar()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteVTK_Scalar </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>fvtk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double ***</td>          <td class="paramname"><span class="paramname"><em>V</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>unit</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>var_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_grid.html">Grid</a> *</td>          <td class="paramname"><span class="paramname"><em>grid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write VTK scalar field.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fvtk</td><td>pointer to file (handle) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">V</td><td>pointer to 3D data array </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unit</td><td>the corresponding cgs unit (if specified, 1 otherwise) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">var_name</td><td>the variable name appearing in the VTK file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">grid</td><td>pointer to an array of <a class="el" href="struct_grid.html">Grid</a> structures </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8ed12df0377715d751ba77459b3dc410" name="a8ed12df0377715d751ba77459b3dc410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ed12df0377715d751ba77459b3dc410">&#9670;&#160;</a></span>WriteVTK_Vector()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WriteVTK_Vector </td>
          <td>(</td>
          <td class="paramtype">FILE *</td>          <td class="paramname"><span class="paramname"><em>fvtk</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="pluto_8h.html#a8687756c20ea6b5b5987615b0ce41bd2">Data_Arr</a></td>          <td class="paramname"><span class="paramname"><em>V</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double</td>          <td class="paramname"><span class="paramname"><em>unit</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *</td>          <td class="paramname"><span class="paramname"><em>var_name</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="struct_grid.html">Grid</a> *</td>          <td class="paramname"><span class="paramname"><em>grid</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Write VTK vector field data. This is enabled only when VTK_VECTOR_DUMP is set to <code>YES</code>. For generality purposes, vectors are written always with 3 components, even when there're only 2 being used.</p>
<p>The following Maple script has been used to find vector components from cyl/sph to cartesian:</p>
<div class="fragment"><div class="line">restart;</div>
<div class="line">with(linalg);</div>
<div class="line">Acyl := matrix (3,3,[ cos(phi), sin(phi),  0,</div>
<div class="line">                   -sin(phi), cos(phi),  0,</div>
<div class="line">                     0     ,    0    , 1]);</div>
<div class="line">Asph := matrix (3,3,[ sin(theta)*cos(phi), sin(theta)*sin(phi),  cos(theta),</div>
<div class="line">                cos(theta)*cos(phi), cos(theta)*sin(phi), -sin(theta),</div>
<div class="line">                -sin(phi)          , cos(phi)           , 0]);</div>
<div class="line">Bcyl := simplify(inverse(Acyl));</div>
<div class="line">Bsph := simplify(inverse(Asph));</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">fvtk</td><td>pointer to file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">V</td><td>a 4D array [nv][k][j][i] containing the vector components (nv) defined at cell centers (k,j,i). The index nv = 0 marks the vector first component. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">unit</td><td>the corresponding cgs unit (if specified, 1 otherwise) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">var_name</td><td>the variable name appearing in the VTK file </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">grid</td><td>pointer to an array of <a class="el" href="struct_grid.html">Grid</a> structures </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Sep 18 2024 14:18:00 for PLUTO by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
